---
phase: 02-care-guides
plan: 02
type: execute
---

<objective>
Create guide detail pages with bilingual routing for Feeding and Housing care guides.

Purpose: Build the page templates and routing that will render all care guides, starting with two core categories to validate the pattern.
Output: Working `/guides/[slug]` routes rendering markdown content with proper layouts, plus two complete guides (feeding, housing).
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-care-guides/02-01-SUMMARY.md
@src/pages/species/[slug].astro
@src/layouts/BaseLayout.astro
@src/lib/urlUtils.ts
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONVENTIONS.md

**Tech stack available:**
- Astro dynamic routes with `getStaticPaths()`
- Content collections with `getCollection()` and `render()`
- Bilingual routing (en: `/guides/slug`, es: `/es/guides/slug`)
- Existing BaseLayout with meta tags and navigation

**Established patterns:**
- Dynamic routes: `[slug].astro` with `getStaticPaths()`
- Bilingual pages: Main route + `/es/` prefix for Spanish
- Layout usage: `<BaseLayout>` with title, description props
- Content rendering: `const { Content } = await entry.render()`

**From Plan 02-01:**
- Guides collection schema with bilingual titles/descriptions
- Category enum (feeding, housing, health, training)
- Sample feeding guide exists
- Build validates guides content

**From Phase 1:**
- Utilities available: `toAbsoluteUrl()`, `truncateWithEllipsis()`, `escapeJsonLd()`
- Quality standard: specific, actionable, realistic content
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create guide detail page with bilingual routing</name>
  <files>src/pages/guides/[slug].astro, src/pages/es/guides/[slug].astro</files>
  <action>
Create English guide detail page at `src/pages/guides/[slug].astro`:
- Implement `getStaticPaths()` using `getCollection('guides')`
- Get guide entry by slug from params
- Render markdown content with `await entry.render()`
- Use BaseLayout with bilingual title from frontmatter (entry.data.title.en)
- Include meta description from frontmatter
- Display category badge
- Render `<Content />` component for markdown body
- Add structured data (JSON-LD) for Article schema with escapeJsonLd()

Create Spanish version at `src/pages/es/guides/[slug].astro`:
- Same structure but use `.es` properties from frontmatter
- Spanish URL path: `/es/guides/slug`

Follow existing species detail page pattern from `src/pages/species/[slug].astro`. Use single quotes, 2-space indentation. Add type annotations for Props.
  </action>
  <verify>
`npm run build` succeeds. Check build output shows guide pages generated.
`curl` test: Pages exist at `/guides/feeding-basics/` (from Plan 02-01 sample).
  </verify>
  <done>Both English and Spanish guide pages render correctly. Build generates static HTML. Markdown content displays properly.</done>
</task>

<task type="auto">
  <name>Task 2: Create housing guide content</name>
  <files>src/content/guides/housing-essentials.md</files>
  <action>
Create comprehensive housing guide at `src/content/guides/housing-essentials.md`:

Frontmatter:
```yaml
---
slug: housing-essentials
title:
  en: "Housing Your Parrot: Cage Setup & Environment"
  es: "Alojamiento de tu Loro: Configuración de Jaula y Ambiente"
description:
  en: "Complete guide to parrot housing, cage sizing, perch types, and environmental enrichment."
  es: "Guía completa de alojamiento para loros, tamaño de jaula, tipos de perchas y enriquecimiento ambiental."
category: housing
order: 1
---
```

Content (5-7 paragraphs covering):
- Cage size guidelines (width more important than height, species-specific minimums)
- Bar spacing safety (prevent head entrapment)
- Perch variety (natural wood, varying diameters, avoid sandpaper perches)
- Cage placement (avoid kitchen fumes, drafts, constant sunlight)
- Out-of-cage time requirements (minimum 2-3 hours daily)
- Environmental enrichment (toys, foraging opportunities, social interaction)

Match Phase 1 quality: specific measurements, realistic recommendations, safety warnings with explanations.
  </action>
  <verify>`npm run build` succeeds. Housing guide renders at `/guides/housing-essentials/`. Content is substantive and actionable.</verify>
  <done>Housing guide created with detailed, practical content. Both English and Spanish versions render correctly.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Two complete care guide pages (feeding, housing) with bilingual support and markdown rendering</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit English guides:
       - http://localhost:4321/guides/feeding-basics/
       - http://localhost:4321/guides/housing-essentials/
    3. Visit Spanish guides:
       - http://localhost:4321/es/guides/feeding-basics/
       - http://localhost:4321/es/guides/housing-essentials/
    4. Verify on each page:
       - Title displays correctly (bilingual)
       - Category badge shows
       - Markdown content renders with proper formatting
       - Meta description present (view source)
       - No console errors
       - No layout issues (mobile/desktop)
    5. Check content quality:
       - Information is specific and actionable
       - Safety warnings included where relevant
       - Measurements and recommendations are realistic
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds with 0 errors
- [ ] Guide pages generated for both languages
- [ ] Markdown content renders properly
- [ ] Meta tags and structured data present
- [ ] No TypeScript errors
- [ ] User approved visual verification
</verification>

<success_criteria>

- All 3 tasks completed
- Two complete care guides (feeding, housing)
- Bilingual routing works for both guides
- User verified page rendering and content quality
- Foundation established for remaining guides
</success_criteria>

<output>
After completion, create `.planning/phases/02-care-guides/02-02-SUMMARY.md`
</output>
