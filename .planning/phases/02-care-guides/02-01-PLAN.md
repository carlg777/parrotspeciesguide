---
phase: 02-care-guides
plan: 01
type: execute
---

<objective>
Create content collection schema and directory structure for comprehensive care guides.

Purpose: Establish the foundation for standalone care guide pages that will become primary educational resources, separate from species-specific content.
Output: Zod schema for care guides, directory structure, and first sample guide to validate the approach.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-content-foundation/01-01-SUMMARY.md
@src/content/config.ts
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONVENTIONS.md

**Tech stack available:**
- Astro 5.14.8 with Content Collections
- Zod for schema validation
- TypeScript strict mode
- Bilingual support (English/Spanish)

**Established patterns:**
- Content collections in `src/content/`
- Zod schemas in `src/content/config.ts`
- Markdown with frontmatter for content
- File-based routing in `src/pages/`
- camelCase functions, kebab-case files
- Single quotes, 2-space indentation

**From Phase 1:**
- Species schema extended with 7 optional care fields (lifespan, careLevel, etc.)
- Quality standard established: specific, actionable, realistic information
- Build validation: `npm run build` must pass with 0 errors
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create care guides content collection schema</name>
  <files>src/content/config.ts</files>
  <action>
Add new `guides` collection to config.ts alongside existing `species` collection. Schema should include:
- slug (string) - URL-friendly identifier
- title (object with en/es strings) - Bilingual titles
- description (object with en/es strings) - SEO descriptions
- category (enum: 'feeding', 'housing', 'health', 'training') - Organization
- icon (string, optional) - SVG icon for navigation
- order (number) - Display order in navigation
- content (markdown) - Main guide content via Astro's built-in markdown support

Use Zod's `.passthrough()` or proper markdown content handling. Follow existing species collection pattern. Add JSDoc comments explaining each field.
  </action>
  <verify>`npm run astro check` passes with 0 errors. TypeScript recognizes new `guides` collection type.</verify>
  <done>Schema defined, documented, and validates successfully. Collection type available for import.</done>
</task>

<task type="auto">
  <name>Task 2: Create guides content directory with sample guide</name>
  <files>src/content/guides/feeding-basics.md</files>
  <action>
Create `src/content/guides/` directory. Add first guide `feeding-basics.md` with frontmatter:
```yaml
---
slug: feeding-basics
title:
  en: "Feeding Your Parrot: Essential Nutrition Guide"
  es: "Alimentación de tu Loro: Guía Esencial de Nutrición"
description:
  en: "Comprehensive guide to parrot nutrition, diet types, and feeding schedules for optimal health."
  es: "Guía completa de nutrición para loros, tipos de dieta y horarios de alimentación para una salud óptima."
category: feeding
order: 1
---
```

Add 3-4 paragraphs of substantive content (not Lorem ipsum) about:
- Pelleted diet as foundation (50-70% of diet)
- Fresh vegetables and fruits (20-30%)
- Seeds and nuts as treats (10% maximum)
- Foods to avoid (avocado, chocolate, salt, caffeine)

Content should match Phase 1 quality standard: specific, actionable, realistic. Use markdown headings, lists, and emphasis.
  </action>
  <verify>File exists at `src/content/guides/feeding-basics.md`. `npm run build` succeeds. Astro can query guides collection.</verify>
  <done>Sample guide created with valid frontmatter and quality content. Build succeeds without errors.</done>
</task>

<task type="auto">
  <name>Task 3: Validate collection and build</name>
  <files>None (validation only)</files>
  <action>
Run full build to ensure guides collection integrates properly:
1. `npm run astro check` - TypeScript and Astro validation
2. `npm run build` - Full production build

Check build output confirms guides collection is recognized. No type errors, no content validation errors.
  </action>
  <verify>Both commands succeed with 0 errors. Build output shows guides collection processed.</verify>
  <done>Collection fully integrated. Build pipeline validates guides content. Ready for guide pages in next plan.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run astro check` passes with 0 errors
- [ ] `npm run build` succeeds completely
- [ ] guides collection schema exists in src/content/config.ts
- [ ] Sample guide exists with valid frontmatter
- [ ] TypeScript recognizes `getCollection('guides')` type
</verification>

<success_criteria>

- All 3 tasks completed
- All verification checks pass
- No TypeScript or build errors
- Guides collection schema documented and validated
- Sample guide demonstrates content structure
- Foundation ready for guide pages (Plan 02-02)
</success_criteria>

<output>
After completion, create `.planning/phases/02-care-guides/02-01-SUMMARY.md`:

---
phase: 02-care-guides
plan: 01
subsystem: content
tags: [content-collections, zod, markdown, bilingual]
duration: [X]min
completed: 2026-01-[XX]
key-files:
  - src/content/config.ts
  - src/content/guides/feeding-basics.md
patterns-established:
  - Care guide schema with bilingual titles/descriptions
  - Category-based organization (feeding, housing, health, training)
  - Order field for navigation control
---

# Plan 02-01 Summary: Care Guide Schema & Structure

**[One-liner describing what shipped]**

## Accomplishments

- Created guides content collection with Zod schema
- Established bilingual structure for care guide content
- Validated approach with sample feeding guide
- [Other key outcomes]

## Files Created/Modified

- `src/content/config.ts` - Added guides collection schema
- `src/content/guides/feeding-basics.md` - Sample guide content

## Decisions Made

- Category enum with 4 values (feeding, housing, health, training)
- Bilingual object structure for titles and descriptions
- Markdown content for guide body (Astro's built-in support)
- Order field for manual navigation control

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Ready for Plan 02-02: Create guide pages and routing for feeding and housing guides.
</output>
