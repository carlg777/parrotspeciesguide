---
phase: 01-content-foundation
plan: 01
type: execute
---

<objective>
Enhance species content schema to support richer care information and prepare foundation for content improvements.

Purpose: Establish expanded data structure that can capture detailed care information, behavior traits, and owner guidance that will differentiate these species profiles as "best on the web".
Output: Extended Zod schema in `src/content/config.ts`, updated TypeScript types, all 84 species validated against new schema.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STACK.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONVENTIONS.md
@src/content/config.ts

**Current schema**: 11 fields including `temperament`, `dietaryNeeds`, `healthPointers`, `housing` (all strings)

**Enhancement opportunity**: Current fields are single-paragraph strings. Need to support:
- Structured care information (lists, sections)
- Owner experience guidance (beginner-friendly vs advanced)
- Detailed behavior traits beyond single temperament string
- Lifespan and commitment information
- Care difficulty rating

**Established patterns**:
- Zod schema validation in `src/content/config.ts`
- All species data as JSON files in `src/content/species/`
- TypeScript strict mode enabled
- Type-safe access via `getCollection('species')`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend species schema with rich care fields</name>
  <files>src/content/config.ts</files>
  <action>
Add new optional fields to the species schema:
- `lifespan`: z.string() - Expected lifespan in years
- `careLevel`: z.enum(['beginner', 'intermediate', 'advanced']) - Care difficulty
- `activity Level`: z.string() - Energy and activity description
- `socialNeeds`: z.string() - Socialization requirements
- `noiseTolerance`: z.string() - Guidance on noise expectations for owners
- `spaceRequirements`: z.string() - Detailed space needs beyond basic housing
- `timeCommitment`: z.string() - Daily time investment needed

Make all new fields optional with `.optional()` to maintain backward compatibility with existing 84 species JSONs. Keep existing 11 fields required. Use descriptive comments above each new field.

DO NOT use z.object() nesting yet - keep flat structure to match existing pattern. Avoid z.array() for now - simple strings allow gradual migration.
  </action>
  <verify>npm run astro check passes with no type errors</verify>
  <done>Schema extended with 7 new optional fields, all existing species validate successfully, types generated</done>
</task>

<task type="auto">
  <name>Task 2: Add schema documentation and validation examples</name>
  <files>src/content/config.ts</files>
  <action>
Add comprehensive JSDoc comment block above the schema definition explaining:
- Purpose of each field (especially new ones)
- Expected format for string fields (e.g., "15-25 years" for lifespan)
- careLevel enum values and when to use each
- Migration note that new fields are optional during Phase 1

Below the schema export, add a comment block with 2-3 example JSON snippets showing:
1. Minimal valid species (existing 11 fields only)
2. Enhanced species (with some new optional fields populated)
3. Field format expectations

Use multi-line comments `/** ... */` for JSDoc, `// ...` for inline notes.
  </action>
  <verify>Comments are present and helpful, no syntax errors, npm run astro check still passes</verify>
  <done>Schema is well-documented with examples, future content editors have clear guidance</done>
</task>

<task type="auto">
  <name>Task 3: Validate all existing species against new schema</name>
  <files>N/A - validation only</files>
  <action>
Run validation commands:
1. `npm run astro check` - Verifies TypeScript types and schema
2. `npm run build` - Full build to ensure all 84 species pass validation
3. Check build output for any warnings about schema mismatches

If any species fail validation, investigate which fields are causing issues. Since all new fields are optional, all 84 existing species should validate successfully.

DO NOT modify any species JSON files in this task - this is validation only.
  </action>
  <verify>Build completes without errors, no schema validation failures, all 84 species pages generate</verify>
  <done>All existing content validates against enhanced schema, foundation ready for content improvements</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run astro check` passes with 0 errors
- [ ] `npm run build` succeeds and generates all 168 pages (84 species Ã— 2 languages)
- [ ] New schema fields are documented with JSDoc comments
- [ ] Schema includes 7 new optional fields: lifespan, careLevel, activityLevel, socialNeeds, noiseTolerance, spaceRequirements, timeCommitment
</verification>

<success_criteria>

- Schema extended with 7 new optional fields
- All new fields are documented with clear guidance
- All 84 existing species validate successfully
- No breaking changes to existing content
- TypeScript types updated automatically
- Build process confirms no regressions
  </success_criteria>

<output>
After completion, create `.planning/phases/01-content-foundation/01-01-SUMMARY.md`
</output>
