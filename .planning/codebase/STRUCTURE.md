# Codebase Structure

**Analysis Date:** 2026-01-12

## Directory Layout

```
Parrot Species Guide/
├── src/                    # Application source code
│   ├── components/         # Reusable UI components (Header, Footer)
│   ├── content/           # Content collections (84 species)
│   ├── i18n/              # Internationalization
│   ├── layouts/           # Page layouts (BaseLayout)
│   ├── lib/               # Utilities
│   └── pages/             # Routes (file-based routing)
├── public/                # Static assets
│   └── assets/            # CSS and images
├── .planning/             # Project documentation
├── astro.config.mjs       # Astro framework configuration
├── tsconfig.json          # TypeScript configuration
├── package.json           # Project manifest
└── README.md              # Project documentation
```

## Directory Purposes

**src/pages/**
- Purpose: File-based routing (all pages)
- Contains: .astro page files
- Key files:
  - `index.astro` - Homepage with category overview
  - `species/index.astro` - Species listing page
  - `species/[slug].astro` - Dynamic species detail pages
- Subdirectories:
  - `es/` - Spanish language pages (mirrors English structure)

**src/content/species/**
- Purpose: Species profile data
- Contains: 84 JSON files with species information
- Key files: `blue-and-gold-macaw.json`, `cockatiel.json`, etc.
- Schema: Defined in `src/content/config.ts`

**src/layouts/**
- Purpose: Page layout templates
- Contains: `BaseLayout.astro` (main layout)
- Used by: All pages for consistent structure

**src/components/**
- Purpose: Reusable UI components
- Contains:
  - `Header.astro` - Site header with navigation
  - `Footer.astro` - Site footer
- No subdirectories

**src/i18n/**
- Purpose: Internationalization resources
- Contains:
  - `utils.ts` - i18n helper functions
  - `locales/en.json` - English translations
  - `locales/es.json` - Spanish translations

**src/lib/**
- Purpose: Shared utility functions
- Contains:
  - `urlUtils.ts` - URL helper functions
  - `utils.ts` - General utilities (may be unused)

**public/assets/**
- Purpose: Static assets served directly
- Contains:
  - `css/styles.css` - Global styles
  - `img/parrots/*.webp` - 84 species images

**.planning/**
- Purpose: Project documentation (GSD workflow)
- Contains: Codebase maps (STACK.md, ARCHITECTURE.md, etc.)
- Subdirectories: `codebase/` - Technical documentation

## Key File Locations

**Entry Points:**
- `src/pages/index.astro` - Homepage
- `src/pages/species/index.astro` - Species list
- `src/pages/species/[slug].astro` - Species detail

**Configuration:**
- `astro.config.mjs` - Astro config (SSR, i18n, adapter)
- `tsconfig.json` - TypeScript compiler options
- `package.json` - Dependencies and scripts
- `src/content/config.ts` - Content collection schema

**Core Logic:**
- `src/content/species/*.json` - All species data
- `src/i18n/utils.ts` - i18n helper functions
- `src/lib/urlUtils.ts` - URL utilities

**Documentation:**
- `README.md` - Project overview and commands
- `.planning/codebase/` - Technical documentation

## Naming Conventions

**Files:**
- kebab-case.astro - Astro pages and components
- kebab-case.ts - TypeScript modules
- kebab-case.json - Species data files
- [slug].astro - Dynamic route parameters

**Directories:**
- kebab-case - All directories
- Singular: lib/, layouts/
- Plural: pages/, components/, locales/

**Special Patterns:**
- index.astro - Default page for directory
- [slug].astro - Dynamic route with slug parameter
- es/ prefix - Spanish language pages

## Where to Add New Code

**New Page:**
- English: `src/pages/{page}.astro`
- Spanish: `src/pages/es/{page}.astro`
- Layout: Use `src/layouts/BaseLayout.astro`

**New Species:**
- Data: `src/content/species/{species-slug}.json`
- Image: `public/assets/img/parrots/{species-slug}.webp`
- No code changes needed (auto-generated from content)

**New Component:**
- Implementation: `src/components/{ComponentName}.astro`
- Import in pages as needed

**New i18n Strings:**
- English: `src/i18n/locales/en.json`
- Spanish: `src/i18n/locales/es.json`

**New Utility:**
- Implementation: `src/lib/{utility}.ts`
- Import where needed

## Special Directories

**src/pages/es/**
- Purpose: Spanish language pages (i18n routing)
- Source: Mirrors English page structure with translations
- Committed: Yes
- Note: Astro i18n routing automatically prefixes URLs with /es/

**public/**
- Purpose: Static assets served directly
- Source: Manually created
- Committed: Yes
- Contents: CSS, images (84 parrot species photos)

**.planning/**
- Purpose: Get Shit Done workflow documentation
- Source: Generated by GSD commands
- Committed: Yes (recommended)
- Contents: Codebase maps, project state

**node_modules/**
- Purpose: Installed dependencies
- Source: npm install
- Committed: No (.gitignored)

---

*Structure analysis: 2026-01-12*
*Update when directory structure changes*
